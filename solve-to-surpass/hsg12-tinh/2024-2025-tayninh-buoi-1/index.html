<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Giúp bạn nắm bắt kiến thức của môn Tin học cấp trung học phổ thông. Tiếp thu dễ dàng. Tra cứu thuận tiện. Vượt qua kỳ thi Tốt nghiệp THPT và những kỳ thi khác. Xem được ở mọi nơi có internet, trên nhiều loại máy, bất kể tư thế.">
      
      
        <meta name="author" content="Mr School">
      
      
      
        <link rel="prev" href="../2024-2025-nghean/">
      
      
        <link rel="next" href="../2024-2025-tuyenquang/">
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>2024 - 2025 Tây Ninh (buổi 1) - Mr School's docs for Tin học GDPT 2018</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CConsolas+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Consolas Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700&amp;display=swap">
    
      <link rel="stylesheet" href="../../../stylesheets/custom.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/floating_action_button.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-406896385"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-406896385",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-406896385",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    

  <!-- Extra style sheets (can't be set in mkdocs.yml due to content hash) -->
  <!-- <link
    rel="stylesheet"
    href="../../../assets/stylesheets/custom.css"
  /> -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-QqYBUQwKtpBHq0bDfzJ9jMb2N5+8w/RcZ1Rqxq43+3Qp8sdsO6T7XbuK+LzYQ4M4Zg8q3yY2Wg9p6aa+MglbHA==" crossorigin="anonymous" /> -->


  <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="vtct_theme" data-md-color-primary="green" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hoc-sinh-gioi-12-tay-ninh-2024-2025-buoi-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
              </button>
            
            
    Nơi đây có 10 cái bình <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 320 512">
        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
        <style>
            svg {
                fill: #68a0a1
            }
        </style>
        <path d="M120 0h80c13.3 0 24 10.7 24 24V64H96V24c0-13.3 10.7-24 24-24zM32 151.7c0-15.6 9-29.8 23.2-36.5l24.4-11.4c11-5.1 23-7.8 35.1-7.8h90.6c12.1 0 24.1 2.7 35.1 7.8l24.4 11.4c14.1 6.6 23.2 20.8 23.2 36.5c0 14.4-7.5 27-18.9 34.1c11.5 8.8 18.9 22.6 18.9 38.2c0 16.7-8.5 31.4-21.5 40c12.9 8.6 21.5 23.3 21.5 40s-8.5 31.4-21.5 40c12.9 8.6 21.5 23.3 21.5 40s-8.5 31.4-21.5 40c12.9 8.6 21.5 23.3 21.5 40c0 26.5-21.5 48-48 48H80c-26.5 0-48-21.5-48-48c0-16.7 8.5-31.4 21.5-40C40.5 415.4 32 400.7 32 384s8.5-31.4 21.5-40C40.5 335.4 32 320.7 32 304s8.5-31.4 21.5-40C40.5 255.4 32 240.7 32 224c0-15.6 7.4-29.4 18.9-38.2C39.5 178.7 32 166.1 32 151.7zM96 240c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H112c-8.8 0-16 7.2-16 16zm16 112c-8.8 0-16 7.2-16 16s7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H112z"></path>
    </svg>: Bình tĩnh và bình dân Tin học vụ.

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Mr School's docs for Tin học GDPT 2018" class="md-header__button md-logo" aria-label="Mr School's docs for Tin học GDPT 2018" data-md-component="logo">
      
  <img src="../../../assets/mr-school-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mr School's docs for Tin học GDPT 2018
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2024 - 2025 Tây Ninh (buổi 1)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="vtct_theme" data-md-color-primary="green" data-md-color-accent="light-blue" aria-hidden="true" type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/vtchitruong/vtchitruong.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub để chữa lành
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../features/" class="md-tabs__link">
          
  
  
    
  
  Getting started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../grade-10/grade-10-index/" class="md-tabs__link">
          
  
  
    
  
  Lớp 10

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../grade-11/grade-11-index/" class="md-tabs__link">
          
  
  
    
  
  Lớp 11

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../grade-12/grade-12-index/" class="md-tabs__link">
          
  
  
    
  
  Lớp 12

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../special-topics/special-topics-index/" class="md-tabs__link">
          
  
  
    
  
  Chuyên đề

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../supplementary-reading/dikw-pyramid/" class="md-tabs__link">
          
  
  
    
  
  Đọc thêm

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../advanced/advanced-index/" class="md-tabs__link">
          
  
  
    
  
  Nâng cao

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../solve-to-surpass-index/" class="md-tabs__link">
          
  
  
    
  
  Solve to surpass

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../mos/mos-2019-index/" class="md-tabs__link">
          
  
  
    
  
  MOS

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Mr School's docs for Tin học GDPT 2018" class="md-nav__button md-logo" aria-label="Mr School's docs for Tin học GDPT 2018" data-md-component="logo">
      
  <img src="../../../assets/mr-school-logo.png" alt="logo">

    </a>
    Mr School's docs for Tin học GDPT 2018
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vtchitruong/vtchitruong.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub để chữa lành
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../features/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../grade-10/grade-10-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Lớp 10
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../grade-11/grade-11-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Lớp 11
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../grade-12/grade-12-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Lớp 12
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../special-topics/special-topics-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chuyên đề
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../supplementary-reading/dikw-pyramid/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Đọc thêm
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../advanced/advanced-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Nâng cao
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Solve to surpass
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Solve to surpass
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solve-to-surpass-index/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3zm0 4h14v-2H3zm0 4h14v-2H3zm16 0h2v-2h-2zm0-10v2h2V7zm0 6h2v-2h-2z"></path></svg>
  
  <span class="md-ellipsis">
    Mục lục
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../hsg12-hcm/2023-2024/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    HSG 12 Thành phố
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" checked>
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    HSG 12 tỉnh khác
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            HSG 12 tỉnh khác
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2024-2025-lamdong/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024 - 2025 Lâm Đồng
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2024-2025-nghean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024 - 2025 Nghệ An
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    2024 - 2025 Tây Ninh (buổi 1)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    2024 - 2025 Tây Ninh (buổi 1)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bai-1-ban-nhac-hoan-hao" class="md-nav__link">
    <span class="md-ellipsis">
      Bài 1: Bản nhạc hoàn hảo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài 1: Bản nhạc hoàn hảo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e-bai" class="md-nav__link">
    <span class="md-ellipsis">
      Đề bài
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-giai-e-xuat" class="md-nav__link">
    <span class="md-ellipsis">
      Bài giải đề xuất
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài giải đề xuất">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#y-tuong-chinh" class="md-nav__link">
    <span class="md-ellipsis">
      Ý tưởng chính
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viet-chuong-trinh" class="md-nav__link">
    <span class="md-ellipsis">
      Viết chương trình
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ma-nguon" class="md-nav__link">
    <span class="md-ellipsis">
      Mã nguồn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bai-2-le-hoi-banh-trung-thu" class="md-nav__link">
    <span class="md-ellipsis">
      Bài 2: Lễ hội bánh trung thu
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài 2: Lễ hội bánh trung thu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bai-giai-e-xuat_1" class="md-nav__link">
    <span class="md-ellipsis">
      Bài giải đề xuất
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài giải đề xuất">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#y-tuong-chinh_1" class="md-nav__link">
    <span class="md-ellipsis">
      Ý tưởng chính
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viet-chuong-trinh_1" class="md-nav__link">
    <span class="md-ellipsis">
      Viết chương trình
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ma-nguon_1" class="md-nav__link">
    <span class="md-ellipsis">
      Mã nguồn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bai-3-bao-ton-rung-quoc-gia" class="md-nav__link">
    <span class="md-ellipsis">
      Bài 3: Bảo tồn rừng quốc gia
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài 3: Bảo tồn rừng quốc gia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e-bai_1" class="md-nav__link">
    <span class="md-ellipsis">
      Đề bài
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-giai-e-xuat_2" class="md-nav__link">
    <span class="md-ellipsis">
      Bài giải đề xuất
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài giải đề xuất">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#y-tuong-chinh_2" class="md-nav__link">
    <span class="md-ellipsis">
      Ý tưởng chính
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viet-chuong-trinh_2" class="md-nav__link">
    <span class="md-ellipsis">
      Viết chương trình
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ma-nguon_2" class="md-nav__link">
    <span class="md-ellipsis">
      Mã nguồn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2024-2025-tuyenquang/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024 - 2025 Tuyên Quang
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2023-2024-vinhphuc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023 - 2024 Vĩnh Phúc
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../olympic-april-30/2015-grade-10/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Olympic 30/4
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../olympic11-hcm/2024-2025/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Olympic 11 Thành phố
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../olympic10-hcm/2024-2025/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Olympic 10 Thành phố
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../hsg9-tinh/hsg9-tinh-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    HSG 9 tỉnh khác
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../mos/mos-2019-index/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    MOS
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bai-1-ban-nhac-hoan-hao" class="md-nav__link">
    <span class="md-ellipsis">
      Bài 1: Bản nhạc hoàn hảo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài 1: Bản nhạc hoàn hảo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e-bai" class="md-nav__link">
    <span class="md-ellipsis">
      Đề bài
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-giai-e-xuat" class="md-nav__link">
    <span class="md-ellipsis">
      Bài giải đề xuất
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài giải đề xuất">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#y-tuong-chinh" class="md-nav__link">
    <span class="md-ellipsis">
      Ý tưởng chính
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viet-chuong-trinh" class="md-nav__link">
    <span class="md-ellipsis">
      Viết chương trình
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ma-nguon" class="md-nav__link">
    <span class="md-ellipsis">
      Mã nguồn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bai-2-le-hoi-banh-trung-thu" class="md-nav__link">
    <span class="md-ellipsis">
      Bài 2: Lễ hội bánh trung thu
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài 2: Lễ hội bánh trung thu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bai-giai-e-xuat_1" class="md-nav__link">
    <span class="md-ellipsis">
      Bài giải đề xuất
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài giải đề xuất">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#y-tuong-chinh_1" class="md-nav__link">
    <span class="md-ellipsis">
      Ý tưởng chính
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viet-chuong-trinh_1" class="md-nav__link">
    <span class="md-ellipsis">
      Viết chương trình
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ma-nguon_1" class="md-nav__link">
    <span class="md-ellipsis">
      Mã nguồn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bai-3-bao-ton-rung-quoc-gia" class="md-nav__link">
    <span class="md-ellipsis">
      Bài 3: Bảo tồn rừng quốc gia
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài 3: Bảo tồn rừng quốc gia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e-bai_1" class="md-nav__link">
    <span class="md-ellipsis">
      Đề bài
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-giai-e-xuat_2" class="md-nav__link">
    <span class="md-ellipsis">
      Bài giải đề xuất
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bài giải đề xuất">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#y-tuong-chinh_2" class="md-nav__link">
    <span class="md-ellipsis">
      Ý tưởng chính
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viet-chuong-trinh_2" class="md-nav__link">
    <span class="md-ellipsis">
      Viết chương trình
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ma-nguon_2" class="md-nav__link">
    <span class="md-ellipsis">
      Mã nguồn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  
  
    <a href="https://github.com/vtchitruong/vtchitruong.github.io/edit/master/docs/solve-to-surpass/hsg12-tinh/2024-2025-tayninh-buoi-1.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/vtchitruong/vtchitruong.github.io/raw/master/docs/solve-to-surpass/hsg12-tinh/2024-2025-tayninh-buoi-1.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
    </a>
  


<h1 id="hoc-sinh-gioi-12-tay-ninh-2024-2025-buoi-1">Học sinh giỏi 12 Tây Ninh 2024 - 2025 (buổi 1)<a class="headerlink" href="#hoc-sinh-gioi-12-tay-ninh-2024-2025-buoi-1" title="Permanent link">¶</a></h1>
<h2 id="bai-1-ban-nhac-hoan-hao">Bài 1: Bản nhạc hoàn hảo<a class="headerlink" href="#bai-1-ban-nhac-hoan-hao" title="Permanent link">¶</a></h2>
<h3 id="e-bai">Đề bài<a class="headerlink" href="#e-bai" title="Permanent link">¶</a></h3>
<p>Tại thành phố T, nơi nổi tiếng với các bản nhạc đàn ca tài tử, một cuộc thi sáng tác nhạc đã được tổ chức nhằm tìm kiếm bản nhạc hay nhất để trình diễn trong Lễ hội Ánh Trăng.</p>
<p>Các nghệ sĩ trong cuộc thi phải sáng tác những bản nhạc kết hợp từ hai loại nhạc cụ chính là đàn kìm và đàn tranh, bản nhạc là sự kết nối của nhiều đoạn nhạc, trong đó mỗi đoạn chỉ chơi một loại đàn và không có 2 đoạn liên tiếp nào có cùng loại đàn.</p>
<p>Ban giám khảo đã đưa ra tiêu chí đánh giá độ hấp dẫn của mỗi bản nhạc dựa trên độ hấp dẫn của các đoạn nhạc liên tiếp sử dụng hai loại nhạc cụ này.</p>
<p>Có tổng cộng <span class="arithmatex">\(N\)</span> đoạn nhạc được đánh số từ <span class="arithmatex">\(1\)</span> đến <span class="arithmatex">\(N\)</span>, đoạn thứ <span class="arithmatex">\(i\)</span> được chơi bởi một trong hai loại nhạc cụ trên và có một độ hấp dẫn <span class="arithmatex">\(A_i (1 \le i \le N)\)</span> tương ứng, được biểu diễn dưới dạng một số nguyên.</p>
<p>Một bản nhạc hoàn hảo phải thỏa mãn các điều kiện sau:</p>
<ul>
<li>Có ít nhất 4 đoạn nhạc liên tiếp.</li>
<li>Số lượng đoạn nhạc sử dụng đàn kìm và đàn tranh phải bằng nhau.</li>
</ul>
<p>Độ hấp dẫn của một bản nhạc hoàn hảo được tính bằng tổng độ hấp dẫn của các đoạn nhạc liên tiếp đó.</p>
<p><strong>Yêu cầu:</strong> hãy tính độ hấp dẫn lớn nhất của một bản nhạc hoàn hảo có thể được trình diễn.</p>
<p><strong>Dữ liệu:</strong> MUSIC.INP</p>
<ul>
<li>Dòng đầu chứa số nguyên dương <span class="arithmatex">\(N (4 \le N \le 3 \cdot 10^5)\)</span> là số lượng đoạn nhạc.</li>
<li>Dòng thứ hai chứa <span class="arithmatex">\(N\)</span> số nguyên <span class="arithmatex">\(A_1, A_2, ..., A_n (|A_i| \le 10^9\)</span> với <span class="arithmatex">\(1 \le i\le N)\)</span>, mỗi số đại diện cho độ hấp dẫn của một đoạn nhạc (có thể là dương hoặc âm). Hai số liên tiếp được ghi cách nhau bởi một dấu cách.</li>
</ul>
<p><strong>Kết quả:</strong> MUSIC.OUT</p>
<p>Một số nguyên duy nhất là độ hấp dẫn lớn nhất của một bản nhạc hoàn hảo có thể được trình diễn.</p>
<p><strong>Ví dụ:</strong></p>
<table>
<thead>
<tr>
<th>MUSIC.INP</th>
<th>MUSIC.OUT</th>
</tr>
</thead>
<tbody>
<tr>
<td>7 <br> -3 6 4 -5 -2 7 1</td>
<td>11</td>
</tr>
</tbody>
</table>
<p>Giải thích: Bản nhạc gồm 6 đoạn có số thứ tự <span class="arithmatex">\(2, 3, 4, 5, 6, 7\)</span> sẽ có độ hấp dẫn là <span class="arithmatex">\(6 + 4 +(-5) + (-2) + 7 + 1 = 11\)</span>.</p>
<p><strong>Ràng buộc:</strong></p>
<ul>
<li>Subtask 1 (50%): <span class="arithmatex">\(N \le 300\)</span></li>
<li>Subtask 2 (30%): <span class="arithmatex">\(300 &lt; N \le 5000\)</span></li>
<li>Subtask 3 (20%): <span class="arithmatex">\(5000 &lt; N \le 3 \cdot 10^5\)</span></li>
</ul>
<h3 id="bai-giai-e-xuat">Bài giải đề xuất<a class="headerlink" href="#bai-giai-e-xuat" title="Permanent link">¶</a></h3>
<h4 id="y-tuong-chinh">Ý tưởng chính<a class="headerlink" href="#y-tuong-chinh" title="Permanent link">¶</a></h4>
<p>Sử dụng mảng tổng tiền tố (prefix sum).</p>
<h4 id="viet-chuong-trinh">Viết chương trình<a class="headerlink" href="#viet-chuong-trinh" title="Permanent link">¶</a></h4>
<p><strong>Bước 0:</strong></p>
<p>Khai báo các biến cần thiết.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">C++</label><label for="__tabbed_1_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">lli</span><span class="p">;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">A</span><span class="p">;</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="c1">// mảng tổng tiền tố (prefix sum)</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="c1">// ps[i] là tổng các phần tử trong đoạn [0..i - 1]</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="n">vector</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ps</span><span class="p">;</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="c1">// độ hấp dẫn lớn nhất cần tìm</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="n">lli</span><span class="w"> </span><span class="n">max_attractive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;::</span><span class="n">min</span><span class="p">();</span><span class="w">    </span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="c1"># mảng tổng tiền tố prefix_sum</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="c1"># ps[i] là tổng các phần tử trong đoạn [0..i - 1]</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="n">ps</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="c1"># độ hấp dẫn lớn nhất cần tìm</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="n">max_attractive</span> <span class="o">=</span> <span class="n">max_attractive</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'-inf'</span><span class="p">)</span>  
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 1:</strong></p>
<p>Tính mảng tổng tiền tố.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">C++</label><label for="__tabbed_2_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-44">44</a></span>
<span class="normal"><a href="#__codelineno-2-45">45</a></span>
<span class="normal"><a href="#__codelineno-2-46">46</a></span>
<span class="normal"><a href="#__codelineno-2-47">47</a></span>
<span class="normal"><a href="#__codelineno-2-48">48</a></span>
<span class="normal"><a href="#__codelineno-2-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44"></a><span class="w">    </span><span class="n">ps</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45"></a>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48"></a><span class="w">        </span><span class="n">ps</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49"></a><span class="w">    </span><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-31">31</a></span>
<span class="normal"><a href="#__codelineno-3-32">32</a></span>
<span class="normal"><a href="#__codelineno-3-33">33</a></span>
<span class="normal"><a href="#__codelineno-3-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31"></a>    <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32"></a>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34"></a>        <span class="n">ps</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>  
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 2:</strong></p>
<p>Gọi <code>ps[right]</code> (tổng các phần tử trong đoạn <code>A[0..right]</code>) là tổng đang xét. <code>right</code> cũng là vị trí kết thúc của mảng con đang xét.</p>
<p>Ta cần tìm vị trí <code>i</code> sao cho <code>ps[right] - ps[i - 1]</code> là đạt giá trị lớn nhất (cùng với những điều kiện khác, sẽ đề cập sau).</p>
<p>Với <code>right</code> là vị trí đang xét, thì <code>ps[right]</code> là một số không đổi. Cho nên, để <code>ps[right] - ps[i - 1]</code> đạt giá trị lớn nhất, <code>ps[i - 1]</code> phải đạt giá trị nhỏ nhất.</p>
<p>Yêu cầu "số lượng đoạn nhạc sử dụng đàn kìm và đàn tranh phải bằng nhau" nghĩa là độ dài <code>right - i + 1</code> phải là số chẵn. Điều này đồng nghĩa, <code>right</code> và <code>i - 1</code> phải cùng chẵn hoặc cùng lẻ.</p>
<p>Do đó, ta dùng hai biến <code>min_ps_even</code> và <code>min_ps_odd</code> để theo dõi giá trị <code>ps[i - 1]</code> nhỏ nhất ứng với trường hợp chẵn và lẻ.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">C++</label><label for="__tabbed_3_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-51">51</a></span>
<span class="normal"><a href="#__codelineno-4-52">52</a></span>
<span class="normal"><a href="#__codelineno-4-53">53</a></span>
<span class="normal"><a href="#__codelineno-4-54">54</a></span>
<span class="normal"><a href="#__codelineno-4-55">55</a></span>
<span class="normal"><a href="#__codelineno-4-56">56</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-51"><a id="__codelineno-4-51" name="__codelineno-4-51"></a><span class="w">    </span><span class="c1">// min_ps_even lưu giá trị ps[i - 1] nhỏ nhất, với i - 1 là chẵn.</span>
</span><span id="__span-4-52"><a id="__codelineno-4-52" name="__codelineno-4-52"></a><span class="w">    </span><span class="c1">// i - 1 = 0 là chẵn, ps[0] = 0</span>
</span><span id="__span-4-53"><a id="__codelineno-4-53" name="__codelineno-4-53"></a><span class="w">    </span><span class="n">lli</span><span class="w"> </span><span class="n">min_ps_even</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ps</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span><span id="__span-4-54"><a id="__codelineno-4-54" name="__codelineno-4-54"></a>
</span><span id="__span-4-55"><a id="__codelineno-4-55" name="__codelineno-4-55"></a><span class="w">    </span><span class="c1">// min_ps_odd lưu giá trị ps[i - 1] nhỏ nhất, với i - 1 là lẻ.</span>
</span><span id="__span-4-56"><a id="__codelineno-4-56" name="__codelineno-4-56"></a><span class="w">    </span><span class="n">lli</span><span class="w"> </span><span class="n">min_ps_odd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">();</span><span class="w">    </span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36"></a>    <span class="c1"># min_ps_even Lưu giá trị ps[i - 1] nhỏ nhất, với i - 1 là chẵn.</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37"></a>    <span class="c1"># i - 1 = 0 là chẵn, ps[0] = 0</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38"></a>    <span class="n">min_ps_even</span> <span class="o">=</span> <span class="n">ps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39"></a>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40"></a>    <span class="c1"># min_ps_odd lưu giá trị ps[i - 1] nhỏ nhất, với i - 1 là lẻ.</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41"></a>    <span class="n">min_ps_odd</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">)</span>   
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 3:</strong></p>
<p>Duyệt từng phần tử <code>ps[right]</code> trong đoạn <code>[4..n]</code>, do yêu cầu có ít nhất 4 đoạn nhạc liên tiếp. Ứng với mỗi <code>right</code>, ta thực hiện</p>
<ul>
<li>
<p>Cập nhật các biến <code>min_ps_even</code> và <code>min_ps_odd</code>.</p>
<p>Do yêu cầu có ít nhất 4 đoạn nhạc liên tiếp, nên ta có <code>right - i + 1 &gt;= 4</code>.  Suy ra <code>i - 1 &lt;= right - 4</code>. Đặt <code>k = right - 4</code>.</p>
<p>Như vậy, ta cần cập nhật các biến <code>min_ps_even</code> và <code>min_ps_odd</code> dựa trên chỉ số <code>k = j - 4</code>. Đây là vị trí bắt đầu xa nhất có thể của mảng con (vị trí kết thúc là <code>right</code>).</p>
</li>
<li>
<p>Tính độ hấp dẫn lớn nhất.</p>
<p>Ta xét <code>right</code> là chẵn hoặc lẻ để sử dụng <code>min_ps_even</code> và <code>min_ps_odd</code> tương ứng.</p>
</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">C++</label><label for="__tabbed_4_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-58">58</a></span>
<span class="normal"><a href="#__codelineno-6-59">59</a></span>
<span class="normal"><a href="#__codelineno-6-60">60</a></span>
<span class="normal"><a href="#__codelineno-6-61">61</a></span>
<span class="normal"><a href="#__codelineno-6-62">62</a></span>
<span class="normal"><a href="#__codelineno-6-63">63</a></span>
<span class="normal"><a href="#__codelineno-6-64">64</a></span>
<span class="normal"><a href="#__codelineno-6-65">65</a></span>
<span class="normal"><a href="#__codelineno-6-66">66</a></span>
<span class="normal"><a href="#__codelineno-6-67">67</a></span>
<span class="normal"><a href="#__codelineno-6-68">68</a></span>
<span class="normal"><a href="#__codelineno-6-69">69</a></span>
<span class="normal"><a href="#__codelineno-6-70">70</a></span>
<span class="normal"><a href="#__codelineno-6-71">71</a></span>
<span class="normal"><a href="#__codelineno-6-72">72</a></span>
<span class="normal"><a href="#__codelineno-6-73">73</a></span>
<span class="normal"><a href="#__codelineno-6-74">74</a></span>
<span class="normal"><a href="#__codelineno-6-75">75</a></span>
<span class="normal"><a href="#__codelineno-6-76">76</a></span>
<span class="normal"><a href="#__codelineno-6-77">77</a></span>
<span class="normal"><a href="#__codelineno-6-78">78</a></span>
<span class="normal"><a href="#__codelineno-6-79">79</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-58"><a id="__codelineno-6-58" name="__codelineno-6-58"></a><span class="w">    </span><span class="c1">// Duyệt mảng tổng tiền tố trong đoạn [4..n]</span>
</span><span id="__span-6-59"><a id="__codelineno-6-59" name="__codelineno-6-59"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">right</span><span class="p">)</span>
</span><span id="__span-6-60"><a id="__codelineno-6-60" name="__codelineno-6-60"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-61"><a id="__codelineno-6-61" name="__codelineno-6-61"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-6-62"><a id="__codelineno-6-62" name="__codelineno-6-62"></a>
</span><span id="__span-6-63"><a id="__codelineno-6-63" name="__codelineno-6-63"></a><span class="w">        </span><span class="c1">// Cập nhật giá trị min_ps_even và min_ps_odd</span>
</span><span id="__span-6-64"><a id="__codelineno-6-64" name="__codelineno-6-64"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-6-65"><a id="__codelineno-6-65" name="__codelineno-6-65"></a><span class="w">            </span><span class="n">min_ps_even</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">min_ps_even</span><span class="p">,</span><span class="w"> </span><span class="n">ps</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
</span><span id="__span-6-66"><a id="__codelineno-6-66" name="__codelineno-6-66"></a><span class="w">        </span><span class="k">else</span>
</span><span id="__span-6-67"><a id="__codelineno-6-67" name="__codelineno-6-67"></a><span class="w">            </span><span class="n">min_ps_odd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">min_ps_odd</span><span class="p">,</span><span class="w"> </span><span class="n">ps</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
</span><span id="__span-6-68"><a id="__codelineno-6-68" name="__codelineno-6-68"></a>
</span><span id="__span-6-69"><a id="__codelineno-6-69" name="__codelineno-6-69"></a><span class="w">        </span><span class="c1">// Tính độ hấp dẫn lớn nhất</span>
</span><span id="__span-6-70"><a id="__codelineno-6-70" name="__codelineno-6-70"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">right</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-6-71"><a id="__codelineno-6-71" name="__codelineno-6-71"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-6-72"><a id="__codelineno-6-72" name="__codelineno-6-72"></a><span class="w">            </span><span class="n">max_attractive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">max_attractive</span><span class="p">,</span><span class="w"> </span><span class="n">ps</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min_ps_even</span><span class="p">);</span>
</span><span id="__span-6-73"><a id="__codelineno-6-73" name="__codelineno-6-73"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-6-74"><a id="__codelineno-6-74" name="__codelineno-6-74"></a><span class="w">        </span><span class="k">else</span>
</span><span id="__span-6-75"><a id="__codelineno-6-75" name="__codelineno-6-75"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-6-76"><a id="__codelineno-6-76" name="__codelineno-6-76"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">min_ps_odd</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">())</span>
</span><span id="__span-6-77"><a id="__codelineno-6-77" name="__codelineno-6-77"></a><span class="w">                </span><span class="n">max_attractive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">max_attractive</span><span class="p">,</span><span class="w"> </span><span class="n">ps</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min_ps_odd</span><span class="p">);</span>
</span><span id="__span-6-78"><a id="__codelineno-6-78" name="__codelineno-6-78"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-6-79"><a id="__codelineno-6-79" name="__codelineno-6-79"></a><span class="w">    </span><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-43">43</a></span>
<span class="normal"><a href="#__codelineno-7-44">44</a></span>
<span class="normal"><a href="#__codelineno-7-45">45</a></span>
<span class="normal"><a href="#__codelineno-7-46">46</a></span>
<span class="normal"><a href="#__codelineno-7-47">47</a></span>
<span class="normal"><a href="#__codelineno-7-48">48</a></span>
<span class="normal"><a href="#__codelineno-7-49">49</a></span>
<span class="normal"><a href="#__codelineno-7-50">50</a></span>
<span class="normal"><a href="#__codelineno-7-51">51</a></span>
<span class="normal"><a href="#__codelineno-7-52">52</a></span>
<span class="normal"><a href="#__codelineno-7-53">53</a></span>
<span class="normal"><a href="#__codelineno-7-54">54</a></span>
<span class="normal"><a href="#__codelineno-7-55">55</a></span>
<span class="normal"><a href="#__codelineno-7-56">56</a></span>
<span class="normal"><a href="#__codelineno-7-57">57</a></span>
<span class="normal"><a href="#__codelineno-7-58">58</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43"></a>    <span class="c1"># Duyệt mảng tổng tiền tố trong đoạn [4..n]</span>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44"></a>    <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45"></a>        <span class="n">k</span> <span class="o">=</span> <span class="n">right</span> <span class="o">-</span> <span class="mi">4</span>
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46"></a>
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47"></a>        <span class="c1"># Cập nhật giá trị min_ps_even và min_ps_odd</span>
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48"></a>        <span class="k">if</span> <span class="n">k</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49"></a>            <span class="n">min_ps_even</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">min_ps_even</span><span class="p">,</span> <span class="n">ps</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51"></a>            <span class="n">min_ps_odd</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">min_ps_odd</span><span class="p">,</span> <span class="n">ps</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52"></a>
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53"></a>        <span class="c1"># Tính độ hấp dẫn lớn nhất</span>
</span><span id="__span-7-54"><a id="__codelineno-7-54" name="__codelineno-7-54"></a>        <span class="k">if</span> <span class="n">right</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-7-55"><a id="__codelineno-7-55" name="__codelineno-7-55"></a>            <span class="n">max_attractive</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_attractive</span><span class="p">,</span> <span class="n">ps</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">-</span> <span class="n">min_ps_even</span><span class="p">)</span>
</span><span id="__span-7-56"><a id="__codelineno-7-56" name="__codelineno-7-56"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-7-57"><a id="__codelineno-7-57" name="__codelineno-7-57"></a>            <span class="k">if</span> <span class="n">min_ps_odd</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">):</span>
</span><span id="__span-7-58"><a id="__codelineno-7-58" name="__codelineno-7-58"></a>                <span class="n">max_attractive</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_attractive</span><span class="p">,</span> <span class="n">ps</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">-</span> <span class="n">min_ps_odd</span><span class="p">)</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<h3 id="ma-nguon">Mã nguồn<a class="headerlink" href="#ma-nguon" title="Permanent link">¶</a></h3>
<p>Code đầy đủ được đặt tại <a href="https://github.com/vtchitruong/hsg/tree/main/hsg12-tinh/2024-2025-tayninh-buoi-1/music" target="_blank">GitHub</a>.</p>
<h2 id="bai-2-le-hoi-banh-trung-thu">Bài 2: Lễ hội bánh trung thu<a class="headerlink" href="#bai-2-le-hoi-banh-trung-thu" title="Permanent link">¶</a></h2>
<p>Trong lễ hội Trung thu tại một làng quê nổi tiếng với nghề làm bánh, có <span class="arithmatex">\(N\)</span> loại bánh trung thu đặc biệt được bày bán, mỗi chiếc bánh được đánh số từ <span class="arithmatex">\(1\)</span> đến <span class="arithmatex">\(N\)</span>. Mỗi chiếc bánh trung thu không chỉ có vẻ ngoài đẹp mắt mà còn mang trong mình một giá trị đặc biệt về hương vị, được mô tả bằng giá trị <span class="arithmatex">\(A_i\)</span> của bánh thứ <span class="arithmatex">\(i\)</span>.</p>
<p>Trong lễ hội, người tham gia được phép chọn bánh trong <span class="arithmatex">\(K\)</span> lượt chơi. Mỗi lượt, người chơi sẽ chọn một chiếc bánh để thưởng thức và họ sẽ nhận được một điểm thưởng dựa trên giá trị của chiếc bánh đã chọn. Điểm số trong lượt thứ <span class="arithmatex">\(i\)</span> của người chơi sẽ là <span class="arithmatex">\(i \times\)</span> giá trị của chiếc bánh đã chọn trong lượt đó.</p>
<p>Tuy nhiên, có một điều kiện đặc biệt: người chơi không thể chọn những chiếc bánh quá xa nhau. Cụ thể, nếu ở lượt thứ <span class="arithmatex">\(i\)</span> người chơi chọn chiếc bánh có số thứ tự <span class="arithmatex">\(p_i\)</span>, thì phải bảo đảm <span class="arithmatex">\(1 \le p_i - p_{i - 1} \le M\)</span>.</p>
<p>Nhiệm vụ của bạn là tính tổng điểm thưởng cao nhất mà người chơi có thể đạt được sau <span class="arithmatex">\(K\)</span> lượt chọn bánh.</p>
<p><strong>Dữ liệu:</strong> CAKE.INP</p>
<ul>
<li>Dòng đầu tiên ghi 3 số nguyên <span class="arithmatex">\(N, M, K (M \le N \le 2 \cdot 10^5, K \le min(N, 200))\)</span> lần lượt là số bánh, khoảng cách chọn bánh và số lượt chọn.</li>
<li>Dòng tiếp theo gồm <span class="arithmatex">\(N\)</span> số nguyên dương <span class="arithmatex">\(A_1, A_2, ..., A_N (1 \le A_i \le 10^9)\)</span> là các giá trị của mỗi cái bánh.</li>
</ul>
<p><strong>Kết quả:</strong> CAKE.OUT</p>
<p>Một số nguyên duy nhất là tổng điểm thưởng cao nhất mà người chơi có thể đạt được.</p>
<p><strong>Ví dụ:</strong></p>
<table>
<thead>
<tr>
<th>CAKE.INP</th>
<th>CAKE.OUT</th>
</tr>
</thead>
<tbody>
<tr>
<td>7 6 3 <br> 1 10 1 4 6 3 8</td>
<td>46</td>
</tr>
<tr>
<td>7 6 3 <br> 3 10 1 4 6 3 8</td>
<td>47</td>
</tr>
</tbody>
</table>
<p><strong>Giải thích:</strong></p>
<ul>
<li>Test 1: Ta chọn các cái bánh ở vị trí 2, 5 và 7. Tổng điểm sẽ là <span class="arithmatex">\(1 \cdot 10 + 2 \cdot 6 + 3 \cdot 8 = 46\)</span></li>
<li>Test 2: Ta chọn các cái bánh ở vị trí 1, 2 và 7. Tổng điểm sẽ là <span class="arithmatex">\(1 \cdot 3 + 2 \cdot 10 + 3 \cdot 8 = 47\)</span></li>
</ul>
<p><strong>Ràng buộc:</strong></p>
<ul>
<li>Subtask 1 (50%): <span class="arithmatex">\(N \le 20\)</span></li>
<li>Subtask 2 (30%): <span class="arithmatex">\(M \le 100, K \le 20\)</span></li>
<li>Subtask 3 (20%): Không có ràng buộc gì thêm.</li>
</ul>
<h3 id="bai-giai-e-xuat_1">Bài giải đề xuất<a class="headerlink" href="#bai-giai-e-xuat_1" title="Permanent link">¶</a></h3>
<h4 id="y-tuong-chinh_1">Ý tưởng chính<a class="headerlink" href="#y-tuong-chinh_1" title="Permanent link">¶</a></h4>
<p>Giải bài toán theo hướng quy hoạch động.</p>
<p>Cụ thể, tạo mảng hai chiều <code>D</code> với <code>D[choice][cake]</code> là tổng điểm thưởng cao nhất sau <code>choice</code> lượt chọn, và chiếc bánh được chọn ở lượt thứ <code>choice</code> (lượt cuối cùng) là bánh có thứ tự <code>cake</code>.</p>
<p><code>D[choice][cake]</code> được tính theo công thức:</p>
<p><code>D[choice][cake] = D[choice - 1][cake nào đó] + choice * A[cake]</code></p>
<p>Như vậy, để <code>D[choice][cake]</code> là cao nhất, ta phải chọn bánh thứ <code>cake nào đó</code> ở lượt thứ <code>choice - 1</code> sao cho <code>D[choice - 1][cake nào đó]</code> là cao nhất.</p>
<p>Mặt khác, theo yêu cầu "nếu ở lượt thứ <span class="arithmatex">\(i\)</span> người chơi chọn chiếc bánh có số thứ tự <span class="arithmatex">\(p_i\)</span>, thì phải bảo đảm <span class="arithmatex">\(1 \le p_i – p_{i - 1} \le M\)</span>.", ta có:</p>
<p><code>cake - m &lt;= cake nào đó &lt;= cake - 1</code></p>
<p>Như vậy, với mỗi vị trí <code>cake</code>, ta phải duyệt đoạn <code>[cake - m..cake - 1]</code>.</p>
<p>Để tránh phải duyệt đoạn trên nhiều lần, ta dùng cửa sổ trượt để khi <code>cake</code> tăng lên, cửa sổ sẽ trượt theo.</p>
<p>Cụ thể, ta sẽ biểu diễn cửa sổ trượt này bằng hàng đợi hai đầu <code>deque</code>. Hàng đợi này sẽ lưu các chỉ số (vị trí) <code>cake nào đó</code> sao cho:</p>
<ol>
<li>
<p>Các chỉ số <code>cake nào đó</code> tăng dần.</p>
<p>Tức nếu chỉ số <code>cake nào đó</code> quá cũ (<code>cake &lt; cake - m</code>) thì sẽ bị loại ra khỏi hàng đợi.</p>
<p>Nói cách khác, các chỉ số cũng nhất luôn nằm ở đầu hàng đợi (<code>Q.front()</code>).</p>
</li>
<li>
<p>Các giá trị <code>D[choice - 1][]</code> giảm dần.</p>
<p>Tức nếu giá trị <code>D[choice - 1][cake trước đó] &lt;= D[choice - 1][cake mới]</code> thì <code>cake trước đó</code> sẽ bị loại ra khỏi hàng đợi.</p>
<p>Nói cách khác, <code>D[][]</code> có giá trị cao nhất luôn nằm ở đầu hàng đợi (<code>Q.front()</code>), để khi muốn lấy max, ta chỉ cần lấy phần tử đầu hàng đợi, mà không cần phải duyệt hay so sánh.</p>
</li>
</ol>
<h4 id="viet-chuong-trinh_1">Viết chương trình<a class="headerlink" href="#viet-chuong-trinh_1" title="Permanent link">¶</a></h4>
<p><strong>Bước 0:</strong></p>
<p>Khai báo các biến cần thiết.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><input id="__tabbed_5_2" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">C++</label><label for="__tabbed_5_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">lli</span><span class="p">;</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15"></a>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="c1">// hằng số âm vô cực</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="k">const</span><span class="w"> </span><span class="n">lli</span><span class="w"> </span><span class="n">INF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;::</span><span class="n">min</span><span class="p">();</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18"></a>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="n">vector</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;</span><span class="w"> </span><span class="n">A</span><span class="p">;</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21"></a>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="c1">// điểm thưởng cao nhất cần tìm</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="n">lli</span><span class="w"> </span><span class="n">max_score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="c1"># hằng số âm vô cực</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="n">INF</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'-inf'</span><span class="p">)</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="n">n</span> <span class="o">=</span> <span class="n">m</span> <span class="o">=</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13"></a>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="c1"># điểm thưởng cao nhất cần tìm</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="n">max_score</span> <span class="o">=</span> <span class="mi">0</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 1:</strong></p>
<p>Khởi tạo bảng quy hoạch động <code>D</code> trong phần ý tưởng chính.</p>
<p>Ở lượt chọn đầu tiên, ta có thể chọn bất kỳ chiếc bánh nào.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><input id="__tabbed_6_2" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">C++</label><label for="__tabbed_6_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-44">44</a></span>
<span class="normal"><a href="#__codelineno-10-45">45</a></span>
<span class="normal"><a href="#__codelineno-10-46">46</a></span>
<span class="normal"><a href="#__codelineno-10-47">47</a></span>
<span class="normal"><a href="#__codelineno-10-48">48</a></span>
<span class="normal"><a href="#__codelineno-10-49">49</a></span>
<span class="normal"><a href="#__codelineno-10-50">50</a></span>
<span class="normal"><a href="#__codelineno-10-51">51</a></span>
<span class="normal"><a href="#__codelineno-10-52">52</a></span>
<span class="normal"><a href="#__codelineno-10-53">53</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-44"><a id="__codelineno-10-44" name="__codelineno-10-44"></a><span class="w">    </span><span class="c1">// Khởi tạo bảng quy hoạch động gồm k + 1 lượt chọn (hàng)</span>
</span><span id="__span-10-45"><a id="__codelineno-10-45" name="__codelineno-10-45"></a><span class="w">    </span><span class="c1">// Mỗi hàng gồm n + 1 điểm thưởng cao nhất (cột)</span>
</span><span id="__span-10-46"><a id="__codelineno-10-46" name="__codelineno-10-46"></a><span class="w">    </span><span class="c1">// D[choice][cake] là điểm thưởng cao nhất sau choice lượt chọn, kết thúc ở bánh thứ cake</span>
</span><span id="__span-10-47"><a id="__codelineno-10-47" name="__codelineno-10-47"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">D</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">lli</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">INF</span><span class="p">));</span>
</span><span id="__span-10-48"><a id="__codelineno-10-48" name="__codelineno-10-48"></a>
</span><span id="__span-10-49"><a id="__codelineno-10-49" name="__codelineno-10-49"></a><span class="w">    </span><span class="c1">// Khởi tạo lượt chọn 1 (hàng 1)</span>
</span><span id="__span-10-50"><a id="__codelineno-10-50" name="__codelineno-10-50"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">cake</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">cake</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">cake</span><span class="p">)</span>
</span><span id="__span-10-51"><a id="__codelineno-10-51" name="__codelineno-10-51"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-10-52"><a id="__codelineno-10-52" name="__codelineno-10-52"></a><span class="w">        </span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">cake</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">cake</span><span class="p">];</span>
</span><span id="__span-10-53"><a id="__codelineno-10-53" name="__codelineno-10-53"></a><span class="w">    </span><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-30">30</a></span>
<span class="normal"><a href="#__codelineno-11-31">31</a></span>
<span class="normal"><a href="#__codelineno-11-32">32</a></span>
<span class="normal"><a href="#__codelineno-11-33">33</a></span>
<span class="normal"><a href="#__codelineno-11-34">34</a></span>
<span class="normal"><a href="#__codelineno-11-35">35</a></span>
<span class="normal"><a href="#__codelineno-11-36">36</a></span>
<span class="normal"><a href="#__codelineno-11-37">37</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30"></a>    <span class="c1"># Khởi tạo bảng quy hoạch động gồm k + 1 lượt chọn (hàng)</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31"></a>    <span class="c1"># Mỗi hàng gồm n + 1 điểm thưởng cao nhất (cột)</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32"></a>    <span class="c1"># D[choice][cake] là điểm thưởng cao nhất sau choice lượt chọn, kết thúc ở bánh thứ cake</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33"></a>    <span class="n">D</span> <span class="o">=</span> <span class="p">[[</span><span class="n">INF</span><span class="p">]</span>  <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34"></a>
</span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35"></a>    <span class="c1"># Khởi tạo lượt chọn 1 (hàng 1)</span>
</span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36"></a>    <span class="k">for</span> <span class="n">cake</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37"></a>        <span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">cake</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">cake</span><span class="p">]</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 2:</strong></p>
<p>Điền bảng quy hoạch <code>D</code> bằng cách duyệt hàng và cột.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><input id="__tabbed_7_2" name="__tabbed_7" type="radio"><div class="tabbed-labels"><label for="__tabbed_7_1">C++</label><label for="__tabbed_7_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-55">55</a></span>
<span class="normal"><a href="#__codelineno-12-56">56</a></span>
<span class="normal"><a href="#__codelineno-12-57">57</a></span>
<span class="normal"><a href="#__codelineno-12-58">58</a></span>
<span class="normal"><a href="#__codelineno-12-59">59</a></span>
<span class="normal"><a href="#__codelineno-12-60">60</a></span>
<span class="normal"><a href="#__codelineno-12-61">61</a></span>
<span class="normal"><a href="#__codelineno-12-62">62</a></span>
<span class="normal"><a href="#__codelineno-12-63">63</a></span>
<span class="normal"><a href="#__codelineno-12-64">64</a></span>
<span class="normal"><a href="#__codelineno-12-65">65</a></span>
<span class="normal"><a href="#__codelineno-12-66">66</a></span>
<span class="normal"><a href="#__codelineno-12-67">67</a></span>
<span class="normal"><a href="#__codelineno-12-68">68</a></span>
<span class="normal"><a href="#__codelineno-12-69">69</a></span>
<span class="normal"><a href="#__codelineno-12-70">70</a></span>
<span class="normal"><a href="#__codelineno-12-71">71</a></span>
<span class="normal"><a href="#__codelineno-12-72">72</a></span>
<span class="normal"><a href="#__codelineno-12-73">73</a></span>
<span class="normal"><a href="#__codelineno-12-74">74</a></span>
<span class="normal"><a href="#__codelineno-12-75">75</a></span>
<span class="normal"><a href="#__codelineno-12-76">76</a></span>
<span class="normal"><a href="#__codelineno-12-77">77</a></span>
<span class="normal"><a href="#__codelineno-12-78">78</a></span>
<span class="normal"><a href="#__codelineno-12-79">79</a></span>
<span class="normal"><a href="#__codelineno-12-80">80</a></span>
<span class="normal"><a href="#__codelineno-12-81">81</a></span>
<span class="normal"><a href="#__codelineno-12-82">82</a></span>
<span class="normal"><a href="#__codelineno-12-83">83</a></span>
<span class="normal"><a href="#__codelineno-12-84">84</a></span>
<span class="normal"><a href="#__codelineno-12-85">85</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-55"><a id="__codelineno-12-55" name="__codelineno-12-55"></a><span class="w">    </span><span class="c1">// Điền bảng quy hoạch động từ lượt (hàng) 2 đến k</span>
</span><span id="__span-12-56"><a id="__codelineno-12-56" name="__codelineno-12-56"></a><span class="w">    </span><span class="c1">// Duyệt từng lượt chọn (hàng)</span>
</span><span id="__span-12-57"><a id="__codelineno-12-57" name="__codelineno-12-57"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">choice</span><span class="p">)</span>
</span><span id="__span-12-58"><a id="__codelineno-12-58" name="__codelineno-12-58"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-12-59"><a id="__codelineno-12-59" name="__codelineno-12-59"></a><span class="w">        </span><span class="c1">// Khai báo hàng đợi hai đầu lưu chỉ số cake của lượt choice - 1</span>
</span><span id="__span-12-60"><a id="__codelineno-12-60" name="__codelineno-12-60"></a><span class="w">        </span><span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Q</span><span class="p">;</span>
</span><span id="__span-12-61"><a id="__codelineno-12-61" name="__codelineno-12-61"></a>
</span><span id="__span-12-62"><a id="__codelineno-12-62" name="__codelineno-12-62"></a><span class="w">        </span><span class="c1">// Duyệt từng bánh (cột)</span>
</span><span id="__span-12-63"><a id="__codelineno-12-63" name="__codelineno-12-63"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">cake</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">cake</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">cake</span><span class="p">)</span>
</span><span id="__span-12-64"><a id="__codelineno-12-64" name="__codelineno-12-64"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-12-65"><a id="__codelineno-12-65" name="__codelineno-12-65"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">cake</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">INF</span><span class="p">)</span>
</span><span id="__span-12-66"><a id="__codelineno-12-66" name="__codelineno-12-66"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-12-67"><a id="__codelineno-12-67" name="__codelineno-12-67"></a><span class="w">                </span><span class="c1">// Loại bỏ các D[][] nhỏ hơn ở cuối hàng đợi (tức bên phải)</span>
</span><span id="__span-12-68"><a id="__codelineno-12-68" name="__codelineno-12-68"></a><span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Q</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">Q</span><span class="p">.</span><span class="n">back</span><span class="p">()]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">cake</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span>
</span><span id="__span-12-69"><a id="__codelineno-12-69" name="__codelineno-12-69"></a><span class="w">                    </span><span class="n">Q</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
</span><span id="__span-12-70"><a id="__codelineno-12-70" name="__codelineno-12-70"></a>
</span><span id="__span-12-71"><a id="__codelineno-12-71" name="__codelineno-12-71"></a><span class="w">                </span><span class="c1">// Nạp cake - 1 vào cuối hàng đợi</span>
</span><span id="__span-12-72"><a id="__codelineno-12-72" name="__codelineno-12-72"></a><span class="w">                </span><span class="n">Q</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">cake</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-12-73"><a id="__codelineno-12-73" name="__codelineno-12-73"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-12-74"><a id="__codelineno-12-74" name="__codelineno-12-74"></a>
</span><span id="__span-12-75"><a id="__codelineno-12-75" name="__codelineno-12-75"></a><span class="w">            </span><span class="c1">// Loại bỏ chỉ số ở đầu hàng đợi Q vì nó nằm ngoài cửa sổ [cake - m, cake - 1]</span>
</span><span id="__span-12-76"><a id="__codelineno-12-76" name="__codelineno-12-76"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Q</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">Q</span><span class="p">.</span><span class="n">front</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">cake</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="n">Q</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
</span><span id="__span-12-77"><a id="__codelineno-12-77" name="__codelineno-12-77"></a>
</span><span id="__span-12-78"><a id="__codelineno-12-78" name="__codelineno-12-78"></a><span class="w">            </span><span class="c1">// Tính D[choice][cake]</span>
</span><span id="__span-12-79"><a id="__codelineno-12-79" name="__codelineno-12-79"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
</span><span id="__span-12-80"><a id="__codelineno-12-80" name="__codelineno-12-80"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-12-81"><a id="__codelineno-12-81" name="__codelineno-12-81"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">Q</span><span class="p">.</span><span class="n">front</span><span class="p">()]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">INF</span><span class="p">)</span>
</span><span id="__span-12-82"><a id="__codelineno-12-82" name="__codelineno-12-82"></a><span class="w">                    </span><span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="p">][</span><span class="n">cake</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">Q</span><span class="p">.</span><span class="n">front</span><span class="p">()]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">lli</span><span class="p">)</span><span class="n">choice</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">cake</span><span class="p">];</span>
</span><span id="__span-12-83"><a id="__codelineno-12-83" name="__codelineno-12-83"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-12-84"><a id="__codelineno-12-84" name="__codelineno-12-84"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-12-85"><a id="__codelineno-12-85" name="__codelineno-12-85"></a><span class="w">    </span><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-39">39</a></span>
<span class="normal"><a href="#__codelineno-13-40">40</a></span>
<span class="normal"><a href="#__codelineno-13-41">41</a></span>
<span class="normal"><a href="#__codelineno-13-42">42</a></span>
<span class="normal"><a href="#__codelineno-13-43">43</a></span>
<span class="normal"><a href="#__codelineno-13-44">44</a></span>
<span class="normal"><a href="#__codelineno-13-45">45</a></span>
<span class="normal"><a href="#__codelineno-13-46">46</a></span>
<span class="normal"><a href="#__codelineno-13-47">47</a></span>
<span class="normal"><a href="#__codelineno-13-48">48</a></span>
<span class="normal"><a href="#__codelineno-13-49">49</a></span>
<span class="normal"><a href="#__codelineno-13-50">50</a></span>
<span class="normal"><a href="#__codelineno-13-51">51</a></span>
<span class="normal"><a href="#__codelineno-13-52">52</a></span>
<span class="normal"><a href="#__codelineno-13-53">53</a></span>
<span class="normal"><a href="#__codelineno-13-54">54</a></span>
<span class="normal"><a href="#__codelineno-13-55">55</a></span>
<span class="normal"><a href="#__codelineno-13-56">56</a></span>
<span class="normal"><a href="#__codelineno-13-57">57</a></span>
<span class="normal"><a href="#__codelineno-13-58">58</a></span>
<span class="normal"><a href="#__codelineno-13-59">59</a></span>
<span class="normal"><a href="#__codelineno-13-60">60</a></span>
<span class="normal"><a href="#__codelineno-13-61">61</a></span>
<span class="normal"><a href="#__codelineno-13-62">62</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39"></a>    <span class="c1"># Điền bảng quy hoạch động từ lượt (hàng) 2 đến k</span>
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40"></a>    <span class="c1"># Duyệt từng lượt chọn (hàng)</span>
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41"></a>    <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42"></a>        <span class="c1"># Khai báo hàng đợi hai đầu lưu chỉ số cake của lượt choice - 1</span>
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43"></a>        <span class="n">Q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44"></a>
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45"></a>        <span class="c1"># Duyệt từng bánh (cột)</span>
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46"></a>        <span class="k">for</span> <span class="n">cake</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47"></a>            <span class="k">if</span> <span class="n">D</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">cake</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">INF</span><span class="p">:</span>
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48"></a>                <span class="c1"># Loại bỏ các D[][] nhỏ hơn ở cuối hàng đợi (tức bên phải)</span>
</span><span id="__span-13-49"><a id="__codelineno-13-49" name="__codelineno-13-49"></a>                <span class="k">while</span> <span class="n">Q</span> <span class="ow">and</span> <span class="n">D</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">Q</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">D</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">cake</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-13-50"><a id="__codelineno-13-50" name="__codelineno-13-50"></a>                    <span class="n">Q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span><span id="__span-13-51"><a id="__codelineno-13-51" name="__codelineno-13-51"></a>
</span><span id="__span-13-52"><a id="__codelineno-13-52" name="__codelineno-13-52"></a>                <span class="c1"># Nạp cake - 1 vào cuối hàng đợi</span>
</span><span id="__span-13-53"><a id="__codelineno-13-53" name="__codelineno-13-53"></a>                <span class="n">Q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cake</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-13-54"><a id="__codelineno-13-54" name="__codelineno-13-54"></a>
</span><span id="__span-13-55"><a id="__codelineno-13-55" name="__codelineno-13-55"></a>            <span class="c1"># Loại bỏ chỉ số ở đầu hàng đợi Q vì nó nằm ngoài cửa sổ [cake - m, cake - 1]</span>
</span><span id="__span-13-56"><a id="__codelineno-13-56" name="__codelineno-13-56"></a>            <span class="k">if</span> <span class="n">Q</span> <span class="ow">and</span> <span class="n">Q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">cake</span> <span class="o">-</span> <span class="n">m</span><span class="p">:</span>
</span><span id="__span-13-57"><a id="__codelineno-13-57" name="__codelineno-13-57"></a>                <span class="n">Q</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</span><span id="__span-13-58"><a id="__codelineno-13-58" name="__codelineno-13-58"></a>
</span><span id="__span-13-59"><a id="__codelineno-13-59" name="__codelineno-13-59"></a>            <span class="c1"># Tính D[choice][cake]</span>
</span><span id="__span-13-60"><a id="__codelineno-13-60" name="__codelineno-13-60"></a>            <span class="k">if</span> <span class="n">Q</span><span class="p">:</span>
</span><span id="__span-13-61"><a id="__codelineno-13-61" name="__codelineno-13-61"></a>                <span class="k">if</span> <span class="n">D</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">Q</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">!=</span> <span class="n">INF</span><span class="p">:</span>
</span><span id="__span-13-62"><a id="__codelineno-13-62" name="__codelineno-13-62"></a>                    <span class="n">D</span><span class="p">[</span><span class="n">choice</span><span class="p">][</span><span class="n">cake</span><span class="p">]</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">Q</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">choice</span> <span class="o">*</span> <span class="n">A</span><span class="p">[</span><span class="n">cake</span><span class="p">]</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 3:</strong></p>
<p>Duyệt hàng cuối cùng trong <code>D</code>, lấy ra giá trị cao nhất trong số các giá trị cao nhất.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"><input id="__tabbed_8_2" name="__tabbed_8" type="radio"><div class="tabbed-labels"><label for="__tabbed_8_1">C++</label><label for="__tabbed_8_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-87">87</a></span>
<span class="normal"><a href="#__codelineno-14-88">88</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-87"><a id="__codelineno-14-87" name="__codelineno-14-87"></a><span class="w">    </span><span class="c1">// Duyệt các điểm cao nhất trong lượt k (hàng k) để lấy ra kết quả cao nhất</span>
</span><span id="__span-14-88"><a id="__codelineno-14-88" name="__codelineno-14-88"></a><span class="w">    </span><span class="n">max_score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">max_element</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">end</span><span class="p">());</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-64">64</a></span>
<span class="normal"><a href="#__codelineno-15-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-64"><a id="__codelineno-15-64" name="__codelineno-15-64"></a>    <span class="c1"># Duyệt các điểm cao nhất trong lượt k (hàng k) để lấy ra kết quả cao nhất</span>
</span><span id="__span-15-65"><a id="__codelineno-15-65" name="__codelineno-15-65"></a>    <span class="n">max_score</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<h3 id="ma-nguon_1">Mã nguồn<a class="headerlink" href="#ma-nguon_1" title="Permanent link">¶</a></h3>
<p>Code đầy đủ được đặt tại <a href="https://github.com/vtchitruong/hsg/tree/main/hsg12-tinh/2024-2025-tayninh-buoi-1/cake" target="_blank">GitHub</a>.</p>
<h2 id="bai-3-bao-ton-rung-quoc-gia">Bài 3: Bảo tồn rừng quốc gia<a class="headerlink" href="#bai-3-bao-ton-rung-quoc-gia" title="Permanent link">¶</a></h2>
<h3 id="e-bai_1">Đề bài<a class="headerlink" href="#e-bai_1" title="Permanent link">¶</a></h3>
<p>Rừng quốc gia CR đang được chính quyền địa phương và các tổ chức bảo tồn môi trường theo dõi chặt chẽ để đảm bảo sự phát triển bền vững. Khu rừng này bắt đầu từ một khu bảo tồn ban đầu, được đánh số 0, số khu bảo tồn n bằng 1, từ đó các khu vực rừng mới dần dần được mở rộng. Mỗi khi một khu vực rừng mới được phát triển, nó sẽ được kết nối với một khu vực rừng hiện có.</p>
<p>Tuy nhiên, các tổ chức bảo tồn cũng cần quản lý rừng một cách khoa học. Đôi khi, một số khu vực rừng sẽ bị tách ra khỏi hệ thống quản lý do thiên tai hoặc can thiệp từ bên ngoài và toàn bộ hệ thống con của nó cũng bị tách ra khỏi hệ thống quản lý. Ngoài ra, họ cần thường xuyên kiểm tra số lượng cây xanh và khu vực còn được bảo vệ trong một khu vực rừng cụ thể. Có thể hình dung hệ thống quản lý rừng giống như đồ thị dạng cây nhưng luôn biến đổi một cách tự nhiên.</p>
<p>Cụ thể, có q truy vấn về việc quản lý rừng, bao gồm các hoạt động sau:</p>
<ul>
<li>1: <span class="arithmatex">\(+ u (0 \le u &lt; n)\)</span>: Mở rộng thêm một khu vực rừng mới có nhãn <span class="arithmatex">\(i = n\)</span>, và <span class="arithmatex">\(n\)</span> tăng thêm 1. Nối khu vực <span class="arithmatex">\(i\)</span> vào khu vực <span class="arithmatex">\(u\)</span>, và lúc này <span class="arithmatex">\(u\)</span> sẽ là cha (tổ tiên trực tiếp) của <span class="arithmatex">\(i\)</span>.</li>
<li>2: <span class="arithmatex">\(- u (0 \le u &lt; n)\)</span>: Xóa bỏ khu vực <span class="arithmatex">\(u\)</span> và hệ thống con của <span class="arithmatex">\(u\)</span>.</li>
<li>3: <span class="arithmatex">\(? u (0 \le u &lt; n)\)</span>: Báo cáo số lượng khu vực rừng <span class="arithmatex">\(u\)</span> và hệ thống con của nó, bao gồm chính khu vực <span class="arithmatex">\(u\)</span>.</li>
</ul>
<p>Với mỗi truy vấn loại 3, bạn hãy in ra kết quả của câu hỏi đó.</p>
<p><strong>Dữ liệu:</strong> TREE.INP</p>
<ul>
<li>Dòng đầu tiên gồm số <span class="arithmatex">\(q (1 &lt; q \le 10^5)\)</span> là số lượng truy vấn.</li>
<li><span class="arithmatex">\(q\)</span> dòng tiếp theo dòng thứ <span class="arithmatex">\(i\)</span> lần lượt chứa ký tự <span class="arithmatex">\(c\)</span> và số <span class="arithmatex">\(u\)</span> cho biết nội dung của truy vấn. Đề bài bảo đảm các điều kiện tại ngay trước thời điểm hỏi của mỗi truy vấn: <span class="arithmatex">\(c \in \{+, -, ?\}, 0 \leq u &lt; n\)</span>  và <span class="arithmatex">\(u\)</span> chưa bị xóa.</li>
</ul>
<p><strong>Kết quả:</strong> TREE.OUT</p>
<ul>
<li>Với mỗi lượt truy vấn loại 3, in ra một số nguyên duy nhất là số khu vực rừng đang được bảo vệ trong hệ thống con của khu vực u bao gồm cả chính u.</li>
</ul>
<table>
<thead>
<tr>
<th>TREE.INP</th>
<th>TREE.OUT</th>
</tr>
</thead>
<tbody>
<tr>
<td>8<br>+ 0<br>+ 0<br>+ 0<br>- 1<br>? 0<br>+ 2<br>- 3<br>? 2</td>
<td>3<br>2</td>
</tr>
</tbody>
</table>
<p><strong>Giải thích:</strong></p>
<p>Với truy vấn loại 3 đầu tiên (? 0), cây gốc 0 chỉ còn 2 nút con là 2 và 3, xuất ra 3 vì đếm cả nút 0.</p>
<p><strong>Ràng buộc:</strong></p>
<ul>
<li>Subtask 1 (50%): <span class="arithmatex">\(q \le 10^3\)</span></li>
<li>Subtask 2 (30%): Không tồn tại truy vấn loại 2</li>
<li>Subtask 3 (20%): <span class="arithmatex">\(q \le 10^5\)</span></li>
</ul>
<h3 id="bai-giai-e-xuat_2">Bài giải đề xuất<a class="headerlink" href="#bai-giai-e-xuat_2" title="Permanent link">¶</a></h3>
<h4 id="y-tuong-chinh_2">Ý tưởng chính<a class="headerlink" href="#y-tuong-chinh_2" title="Permanent link">¶</a></h4>
<p>Lưu và cập nhật kích thước của các cây con bằng cách biến sau:</p>
<ul>
<li>Mảng một chiều <code>parent[]</code> lưu nút cha của một nút nào đó.</li>
<li>Mảng <code>children[]</code> mà mỗi phần tử là một vector để lưu các con trực tiếp của một nút nào đó.</li>
<li>Mảng một chiều <code>tree_size[]</code> lưu số lượng nút trong cây con gốc của một nút nào đó.</li>
</ul>
<h4 id="viet-chuong-trinh_2">Viết chương trình<a class="headerlink" href="#viet-chuong-trinh_2" title="Permanent link">¶</a></h4>
<p><strong>Bước 0:</strong></p>
<p>Khai báo các biến cần thiết.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio"><input id="__tabbed_9_2" name="__tabbed_9" type="radio"><div class="tabbed-labels"><label for="__tabbed_9_1">C++</label><label for="__tabbed_9_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span>
<span class="normal"><a href="#__codelineno-16-16">16</a></span>
<span class="normal"><a href="#__codelineno-16-17">17</a></span>
<span class="normal"><a href="#__codelineno-16-18">18</a></span>
<span class="normal"><a href="#__codelineno-16-19">19</a></span>
<span class="normal"><a href="#__codelineno-16-20">20</a></span>
<span class="normal"><a href="#__codelineno-16-21">21</a></span>
<span class="normal"><a href="#__codelineno-16-22">22</a></span>
<span class="normal"><a href="#__codelineno-16-23">23</a></span>
<span class="normal"><a href="#__codelineno-16-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">MAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100002</span><span class="p">;</span><span class="w"> </span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="kt">int</span><span class="w"> </span><span class="n">number_of_queries</span><span class="p">;</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14"></a><span class="c1">// nhãn của khu nút mới</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15"></a><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16"></a>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17"></a><span class="c1">// parent[i] là cha của nút i</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18"></a><span class="kt">int</span><span class="w"> </span><span class="n">parent</span><span class="p">[</span><span class="n">MAX</span><span class="p">];</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19"></a>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20"></a><span class="c1">// children[i] là vector lưu các con trực tiếp của i</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21"></a><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">children</span><span class="p">[</span><span class="n">MAX</span><span class="p">];</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22"></a>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23"></a><span class="c1">// tree_size[i] là số lượng nút trong cây con có gốc là i, bao gồm cả i</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24"></a><span class="kt">int</span><span class="w"> </span><span class="n">tree_size</span><span class="p">[</span><span class="n">MAX</span><span class="p">];</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="n">MAX</span> <span class="o">=</span> <span class="mi">100002</span> 
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8"></a>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="c1"># nhãn của khu nút mới</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11"></a>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="c1"># parent[i] là cha của nút i</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="n">parent</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">MAX</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14"></a>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="c1"># children[i] là vector lưu các con trực tiếp của i</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="n">children</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">MAX</span><span class="p">)]</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17"></a>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="c1"># tree_size[i] là số lượng nút trong cây con có gốc là i, bao gồm cả i</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="n">tree_size</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">MAX</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 1:</strong></p>
<p>Viết hàm <code>add()</code> thể thêm nút con vào nút <code>u</code>. Hàm này hoạt động như sau:</p>
<ul>
<li>Tạo nút mới <code>new_node</code> có nhãn là <code>n</code>.</li>
<li>Đặt nút cha của <code>new_node</code> là <code>u</code>.</li>
<li>Thêm <code>new_node</code> vào danh sách <code>children[u]</code>.</li>
<li>Khởi tạo kích thước bằng 1 cho <code>new_node</code>.</li>
<li>Cập nhật kích thước cây con của các nút tổ tiên.</li>
<li>Tăng <code>n</code> lên 1 để chuẩn bị cho những lần thêm nút về sau.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio"><input id="__tabbed_10_2" name="__tabbed_10" type="radio"><div class="tabbed-labels"><label for="__tabbed_10_1">C++</label><label for="__tabbed_10_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-28">28</a></span>
<span class="normal"><a href="#__codelineno-18-29">29</a></span>
<span class="normal"><a href="#__codelineno-18-30">30</a></span>
<span class="normal"><a href="#__codelineno-18-31">31</a></span>
<span class="normal"><a href="#__codelineno-18-32">32</a></span>
<span class="normal"><a href="#__codelineno-18-33">33</a></span>
<span class="normal"><a href="#__codelineno-18-34">34</a></span>
<span class="normal"><a href="#__codelineno-18-35">35</a></span>
<span class="normal"><a href="#__codelineno-18-36">36</a></span>
<span class="normal"><a href="#__codelineno-18-37">37</a></span>
<span class="normal"><a href="#__codelineno-18-38">38</a></span>
<span class="normal"><a href="#__codelineno-18-39">39</a></span>
<span class="normal"><a href="#__codelineno-18-40">40</a></span>
<span class="normal"><a href="#__codelineno-18-41">41</a></span>
<span class="normal"><a href="#__codelineno-18-42">42</a></span>
<span class="normal"><a href="#__codelineno-18-43">43</a></span>
<span class="normal"><a href="#__codelineno-18-44">44</a></span>
<span class="normal"><a href="#__codelineno-18-45">45</a></span>
<span class="normal"><a href="#__codelineno-18-46">46</a></span>
<span class="normal"><a href="#__codelineno-18-47">47</a></span>
<span class="normal"><a href="#__codelineno-18-48">48</a></span>
<span class="normal"><a href="#__codelineno-18-49">49</a></span>
<span class="normal"><a href="#__codelineno-18-50">50</a></span>
<span class="normal"><a href="#__codelineno-18-51">51</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28"></a><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29"></a><span class="p">{</span>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30"></a><span class="w">    </span><span class="c1">// Nút mới có nhãn là n</span>
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">new_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32"></a>
</span><span id="__span-18-33"><a id="__codelineno-18-33" name="__codelineno-18-33"></a><span class="w">    </span><span class="c1">// Thiết lập liên kết cha và con đối với nút mới</span>
</span><span id="__span-18-34"><a id="__codelineno-18-34" name="__codelineno-18-34"></a><span class="w">    </span><span class="n">parent</span><span class="p">[</span><span class="n">new_node</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
</span><span id="__span-18-35"><a id="__codelineno-18-35" name="__codelineno-18-35"></a><span class="w">    </span><span class="n">children</span><span class="p">[</span><span class="n">u</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">new_node</span><span class="p">);</span>
</span><span id="__span-18-36"><a id="__codelineno-18-36" name="__codelineno-18-36"></a>
</span><span id="__span-18-37"><a id="__codelineno-18-37" name="__codelineno-18-37"></a><span class="w">    </span><span class="c1">// Khởi tạo kích thước cho nút mới</span>
</span><span id="__span-18-38"><a id="__codelineno-18-38" name="__codelineno-18-38"></a><span class="w">    </span><span class="n">tree_size</span><span class="p">[</span><span class="n">new_node</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-18-39"><a id="__codelineno-18-39" name="__codelineno-18-39"></a>
</span><span id="__span-18-40"><a id="__codelineno-18-40" name="__codelineno-18-40"></a><span class="w">    </span><span class="c1">// Cập nhật kích thước cây con của các nút tổ tiên</span>
</span><span id="__span-18-41"><a id="__codelineno-18-41" name="__codelineno-18-41"></a><span class="w">    </span><span class="c1">// bằng cách duyệt ngược từ u về gốc</span>
</span><span id="__span-18-42"><a id="__codelineno-18-42" name="__codelineno-18-42"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
</span><span id="__span-18-43"><a id="__codelineno-18-43" name="__codelineno-18-43"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
</span><span id="__span-18-44"><a id="__codelineno-18-44" name="__codelineno-18-44"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-18-45"><a id="__codelineno-18-45" name="__codelineno-18-45"></a><span class="w">        </span><span class="n">tree_size</span><span class="p">[</span><span class="n">current</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-18-46"><a id="__codelineno-18-46" name="__codelineno-18-46"></a><span class="w">        </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">[</span><span class="n">current</span><span class="p">];</span>
</span><span id="__span-18-47"><a id="__codelineno-18-47" name="__codelineno-18-47"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-18-48"><a id="__codelineno-18-48" name="__codelineno-18-48"></a>
</span><span id="__span-18-49"><a id="__codelineno-18-49" name="__codelineno-18-49"></a><span class="w">    </span><span class="c1">// Tăng nhãn cho nút tiếp theo</span>
</span><span id="__span-18-50"><a id="__codelineno-18-50" name="__codelineno-18-50"></a><span class="w">    </span><span class="n">n</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-18-51"><a id="__codelineno-18-51" name="__codelineno-18-51"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-23">23</a></span>
<span class="normal"><a href="#__codelineno-19-24">24</a></span>
<span class="normal"><a href="#__codelineno-19-25">25</a></span>
<span class="normal"><a href="#__codelineno-19-26">26</a></span>
<span class="normal"><a href="#__codelineno-19-27">27</a></span>
<span class="normal"><a href="#__codelineno-19-28">28</a></span>
<span class="normal"><a href="#__codelineno-19-29">29</a></span>
<span class="normal"><a href="#__codelineno-19-30">30</a></span>
<span class="normal"><a href="#__codelineno-19-31">31</a></span>
<span class="normal"><a href="#__codelineno-19-32">32</a></span>
<span class="normal"><a href="#__codelineno-19-33">33</a></span>
<span class="normal"><a href="#__codelineno-19-34">34</a></span>
<span class="normal"><a href="#__codelineno-19-35">35</a></span>
<span class="normal"><a href="#__codelineno-19-36">36</a></span>
<span class="normal"><a href="#__codelineno-19-37">37</a></span>
<span class="normal"><a href="#__codelineno-19-38">38</a></span>
<span class="normal"><a href="#__codelineno-19-39">39</a></span>
<span class="normal"><a href="#__codelineno-19-40">40</a></span>
<span class="normal"><a href="#__codelineno-19-41">41</a></span>
<span class="normal"><a href="#__codelineno-19-42">42</a></span>
<span class="normal"><a href="#__codelineno-19-43">43</a></span>
<span class="normal"><a href="#__codelineno-19-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23"></a><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24"></a>    <span class="k">global</span> <span class="n">n</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="n">tree_size</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25"></a>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26"></a>    <span class="c1"># Nút mới có nhãn là n</span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27"></a>    <span class="n">new_node</span> <span class="o">=</span> <span class="n">n</span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28"></a>
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29"></a>    <span class="c1"># Thiết lập liên kết cha và con đối với nút mới</span>
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30"></a>    <span class="n">parent</span><span class="p">[</span><span class="n">new_node</span><span class="p">]</span> <span class="o">=</span> <span class="n">u</span>
</span><span id="__span-19-31"><a id="__codelineno-19-31" name="__codelineno-19-31"></a>    <span class="n">children</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_node</span><span class="p">)</span>
</span><span id="__span-19-32"><a id="__codelineno-19-32" name="__codelineno-19-32"></a>
</span><span id="__span-19-33"><a id="__codelineno-19-33" name="__codelineno-19-33"></a>    <span class="c1"># Khởi tạo kích thước cho nút mới</span>
</span><span id="__span-19-34"><a id="__codelineno-19-34" name="__codelineno-19-34"></a>    <span class="n">tree_size</span><span class="p">[</span><span class="n">new_node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-19-35"><a id="__codelineno-19-35" name="__codelineno-19-35"></a>
</span><span id="__span-19-36"><a id="__codelineno-19-36" name="__codelineno-19-36"></a>    <span class="c1"># Cập nhật kích thước cây con của các nút tổ tiên</span>
</span><span id="__span-19-37"><a id="__codelineno-19-37" name="__codelineno-19-37"></a>    <span class="c1"># bằng cách duyệt ngược từ u về gốc</span>
</span><span id="__span-19-38"><a id="__codelineno-19-38" name="__codelineno-19-38"></a>    <span class="n">current</span> <span class="o">=</span> <span class="n">u</span>
</span><span id="__span-19-39"><a id="__codelineno-19-39" name="__codelineno-19-39"></a>    <span class="k">while</span> <span class="n">current</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>    
</span><span id="__span-19-40"><a id="__codelineno-19-40" name="__codelineno-19-40"></a>        <span class="n">tree_size</span><span class="p">[</span><span class="n">current</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-19-41"><a id="__codelineno-19-41" name="__codelineno-19-41"></a>        <span class="n">current</span> <span class="o">=</span> <span class="n">parent</span><span class="p">[</span><span class="n">current</span><span class="p">]</span>
</span><span id="__span-19-42"><a id="__codelineno-19-42" name="__codelineno-19-42"></a>
</span><span id="__span-19-43"><a id="__codelineno-19-43" name="__codelineno-19-43"></a>    <span class="c1"># Tăng nhãn cho nút tiếp theo</span>
</span><span id="__span-19-44"><a id="__codelineno-19-44" name="__codelineno-19-44"></a>    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 2:</strong></p>
<p>Viết hàm <code>remove()</code> để xoá nút <code>u</code>. Hàm này hoạt động như sau:</p>
<ul>
<li>Khai báo các biến tạm để lưu nút cha của <code>u</code> và kích thước cây con của <code>u</code>.</li>
<li>
<p>Xoá nút <code>u</code> bằng cách loại bỏ <code>u</code> khỏi danh sách <code>children[p]</code> (<code>p</code> là nút cha của <code>u</code>).</p>
<p>Ta không cần xoá các nút con của <code>u</code> vì chúng đã bị ngắt liên kết khỏi cây chính.</p>
</li>
<li>
<p>Cập nhật kích thước cây con của các nút tổ tiên.</p>
</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio"><input id="__tabbed_11_2" name="__tabbed_11" type="radio"><div class="tabbed-labels"><label for="__tabbed_11_1">C++</label><label for="__tabbed_11_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-55">55</a></span>
<span class="normal"><a href="#__codelineno-20-56">56</a></span>
<span class="normal"><a href="#__codelineno-20-57">57</a></span>
<span class="normal"><a href="#__codelineno-20-58">58</a></span>
<span class="normal"><a href="#__codelineno-20-59">59</a></span>
<span class="normal"><a href="#__codelineno-20-60">60</a></span>
<span class="normal"><a href="#__codelineno-20-61">61</a></span>
<span class="normal"><a href="#__codelineno-20-62">62</a></span>
<span class="normal"><a href="#__codelineno-20-63">63</a></span>
<span class="normal"><a href="#__codelineno-20-64">64</a></span>
<span class="normal"><a href="#__codelineno-20-65">65</a></span>
<span class="normal"><a href="#__codelineno-20-66">66</a></span>
<span class="normal"><a href="#__codelineno-20-67">67</a></span>
<span class="normal"><a href="#__codelineno-20-68">68</a></span>
<span class="normal"><a href="#__codelineno-20-69">69</a></span>
<span class="normal"><a href="#__codelineno-20-70">70</a></span>
<span class="normal"><a href="#__codelineno-20-71">71</a></span>
<span class="normal"><a href="#__codelineno-20-72">72</a></span>
<span class="normal"><a href="#__codelineno-20-73">73</a></span>
<span class="normal"><a href="#__codelineno-20-74">74</a></span>
<span class="normal"><a href="#__codelineno-20-75">75</a></span>
<span class="normal"><a href="#__codelineno-20-76">76</a></span>
<span class="normal"><a href="#__codelineno-20-77">77</a></span>
<span class="normal"><a href="#__codelineno-20-78">78</a></span>
<span class="normal"><a href="#__codelineno-20-79">79</a></span>
<span class="normal"><a href="#__codelineno-20-80">80</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-55"><a id="__codelineno-20-55" name="__codelineno-20-55"></a><span class="kt">void</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-20-56"><a id="__codelineno-20-56" name="__codelineno-20-56"></a><span class="p">{</span>
</span><span id="__span-20-57"><a id="__codelineno-20-57" name="__codelineno-20-57"></a><span class="w">    </span><span class="c1">// nút cha của nút u</span>
</span><span id="__span-20-58"><a id="__codelineno-20-58" name="__codelineno-20-58"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">];</span>
</span><span id="__span-20-59"><a id="__codelineno-20-59" name="__codelineno-20-59"></a>
</span><span id="__span-20-60"><a id="__codelineno-20-60" name="__codelineno-20-60"></a><span class="w">    </span><span class="c1">// kích thước của hệ thống con của u</span>
</span><span id="__span-20-61"><a id="__codelineno-20-61" name="__codelineno-20-61"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">size_u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tree_size</span><span class="p">[</span><span class="n">u</span><span class="p">];</span>
</span><span id="__span-20-62"><a id="__codelineno-20-62" name="__codelineno-20-62"></a>
</span><span id="__span-20-63"><a id="__codelineno-20-63" name="__codelineno-20-63"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
</span><span id="__span-20-64"><a id="__codelineno-20-64" name="__codelineno-20-64"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-20-65"><a id="__codelineno-20-65" name="__codelineno-20-65"></a><span class="w">        </span><span class="c1">// Khai báo tham chiếu đến vector children[p]</span>
</span><span id="__span-20-66"><a id="__codelineno-20-66" name="__codelineno-20-66"></a><span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">children</span><span class="p">[</span><span class="n">p</span><span class="p">];</span>
</span><span id="__span-20-67"><a id="__codelineno-20-67" name="__codelineno-20-67"></a>
</span><span id="__span-20-68"><a id="__codelineno-20-68" name="__codelineno-20-68"></a><span class="w">        </span><span class="c1">// Xoá nút u (là con của nút p)</span>
</span><span id="__span-20-69"><a id="__codelineno-20-69" name="__codelineno-20-69"></a><span class="w">        </span><span class="n">ref</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">remove</span><span class="p">(</span><span class="n">ref</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">u</span><span class="p">),</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span><span id="__span-20-70"><a id="__codelineno-20-70" name="__codelineno-20-70"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-20-71"><a id="__codelineno-20-71" name="__codelineno-20-71"></a>
</span><span id="__span-20-72"><a id="__codelineno-20-72" name="__codelineno-20-72"></a><span class="w">    </span><span class="c1">// Cập nhật kích thước cây con của các nút tổ tiên</span>
</span><span id="__span-20-73"><a id="__codelineno-20-73" name="__codelineno-20-73"></a><span class="w">    </span><span class="c1">// bằng cách duyệt ngược từ p về gốc</span>
</span><span id="__span-20-74"><a id="__codelineno-20-74" name="__codelineno-20-74"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
</span><span id="__span-20-75"><a id="__codelineno-20-75" name="__codelineno-20-75"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
</span><span id="__span-20-76"><a id="__codelineno-20-76" name="__codelineno-20-76"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-20-77"><a id="__codelineno-20-77" name="__codelineno-20-77"></a><span class="w">        </span><span class="n">tree_size</span><span class="p">[</span><span class="n">current</span><span class="p">]</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">size_u</span><span class="p">;</span>
</span><span id="__span-20-78"><a id="__codelineno-20-78" name="__codelineno-20-78"></a><span class="w">        </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">[</span><span class="n">current</span><span class="p">];</span>
</span><span id="__span-20-79"><a id="__codelineno-20-79" name="__codelineno-20-79"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-20-80"><a id="__codelineno-20-80" name="__codelineno-20-80"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-48">48</a></span>
<span class="normal"><a href="#__codelineno-21-49">49</a></span>
<span class="normal"><a href="#__codelineno-21-50">50</a></span>
<span class="normal"><a href="#__codelineno-21-51">51</a></span>
<span class="normal"><a href="#__codelineno-21-52">52</a></span>
<span class="normal"><a href="#__codelineno-21-53">53</a></span>
<span class="normal"><a href="#__codelineno-21-54">54</a></span>
<span class="normal"><a href="#__codelineno-21-55">55</a></span>
<span class="normal"><a href="#__codelineno-21-56">56</a></span>
<span class="normal"><a href="#__codelineno-21-57">57</a></span>
<span class="normal"><a href="#__codelineno-21-58">58</a></span>
<span class="normal"><a href="#__codelineno-21-59">59</a></span>
<span class="normal"><a href="#__codelineno-21-60">60</a></span>
<span class="normal"><a href="#__codelineno-21-61">61</a></span>
<span class="normal"><a href="#__codelineno-21-62">62</a></span>
<span class="normal"><a href="#__codelineno-21-63">63</a></span>
<span class="normal"><a href="#__codelineno-21-64">64</a></span>
<span class="normal"><a href="#__codelineno-21-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-48"><a id="__codelineno-21-48" name="__codelineno-21-48"></a><span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
</span><span id="__span-21-49"><a id="__codelineno-21-49" name="__codelineno-21-49"></a>    <span class="k">global</span> <span class="n">n</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="n">tree_size</span>
</span><span id="__span-21-50"><a id="__codelineno-21-50" name="__codelineno-21-50"></a>
</span><span id="__span-21-51"><a id="__codelineno-21-51" name="__codelineno-21-51"></a>    <span class="c1"># nút cha của nút u</span>
</span><span id="__span-21-52"><a id="__codelineno-21-52" name="__codelineno-21-52"></a>    <span class="n">p</span> <span class="o">=</span> <span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span>
</span><span id="__span-21-53"><a id="__codelineno-21-53" name="__codelineno-21-53"></a>
</span><span id="__span-21-54"><a id="__codelineno-21-54" name="__codelineno-21-54"></a>    <span class="c1"># kích thước của hệ thống con của u</span>
</span><span id="__span-21-55"><a id="__codelineno-21-55" name="__codelineno-21-55"></a>    <span class="n">size_u</span> <span class="o">=</span> <span class="n">tree_size</span><span class="p">[</span><span class="n">u</span><span class="p">]</span>
</span><span id="__span-21-56"><a id="__codelineno-21-56" name="__codelineno-21-56"></a>
</span><span id="__span-21-57"><a id="__codelineno-21-57" name="__codelineno-21-57"></a>    <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="__span-21-58"><a id="__codelineno-21-58" name="__codelineno-21-58"></a>        <span class="n">children</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-21-59"><a id="__codelineno-21-59" name="__codelineno-21-59"></a>
</span><span id="__span-21-60"><a id="__codelineno-21-60" name="__codelineno-21-60"></a>    <span class="c1"># Cập nhật kích thước cây con của các nút tổ tiên</span>
</span><span id="__span-21-61"><a id="__codelineno-21-61" name="__codelineno-21-61"></a>    <span class="c1"># bằng cách duyệt ngược từ p về gốc</span>
</span><span id="__span-21-62"><a id="__codelineno-21-62" name="__codelineno-21-62"></a>    <span class="n">current</span> <span class="o">=</span> <span class="n">p</span>
</span><span id="__span-21-63"><a id="__codelineno-21-63" name="__codelineno-21-63"></a>    <span class="k">while</span> <span class="n">current</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="__span-21-64"><a id="__codelineno-21-64" name="__codelineno-21-64"></a>        <span class="n">tree_size</span><span class="p">[</span><span class="n">current</span><span class="p">]</span> <span class="o">-=</span> <span class="n">size_u</span>
</span><span id="__span-21-65"><a id="__codelineno-21-65" name="__codelineno-21-65"></a>        <span class="n">current</span> <span class="o">=</span> <span class="n">parent</span><span class="p">[</span><span class="n">current</span><span class="p">]</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 3:</strong></p>
<p>Viết hàm <code>get_size()</code> lấy kích thước cây con của nút <code>u</code>. Hàm này chỉ truy xuất giá trị đã được lưu sẵn là <code>tree_size[u]</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio"><input id="__tabbed_12_2" name="__tabbed_12" type="radio"><div class="tabbed-labels"><label for="__tabbed_12_1">C++</label><label for="__tabbed_12_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-84">84</a></span>
<span class="normal"><a href="#__codelineno-22-85">85</a></span>
<span class="normal"><a href="#__codelineno-22-86">86</a></span>
<span class="normal"><a href="#__codelineno-22-87">87</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-84"><a id="__codelineno-22-84" name="__codelineno-22-84"></a><span class="kt">int</span><span class="w"> </span><span class="nf">get_size</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-22-85"><a id="__codelineno-22-85" name="__codelineno-22-85"></a><span class="p">{</span>
</span><span id="__span-22-86"><a id="__codelineno-22-86" name="__codelineno-22-86"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">tree_size</span><span class="p">[</span><span class="n">u</span><span class="p">];</span>
</span><span id="__span-22-87"><a id="__codelineno-22-87" name="__codelineno-22-87"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-69">69</a></span>
<span class="normal"><a href="#__codelineno-23-70">70</a></span>
<span class="normal"><a href="#__codelineno-23-71">71</a></span>
<span class="normal"><a href="#__codelineno-23-72">72</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-69"><a id="__codelineno-23-69" name="__codelineno-23-69"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_size</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
</span><span id="__span-23-70"><a id="__codelineno-23-70" name="__codelineno-23-70"></a>    <span class="k">global</span> <span class="n">tree_size</span>
</span><span id="__span-23-71"><a id="__codelineno-23-71" name="__codelineno-23-71"></a>
</span><span id="__span-23-72"><a id="__codelineno-23-72" name="__codelineno-23-72"></a>    <span class="k">return</span> <span class="n">tree_size</span><span class="p">[</span><span class="n">u</span><span class="p">]</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<p><strong>Bước 4:</strong></p>
<p>Đối với bài này, ta vừa đọc input, vừa xử lý và vừa ghi ra output.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio"><input id="__tabbed_13_2" name="__tabbed_13" type="radio"><div class="tabbed-labels"><label for="__tabbed_13_1">C++</label><label for="__tabbed_13_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-24-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-24-100">100</a></span>
<span class="normal"><a href="#__codelineno-24-101">101</a></span>
<span class="normal"><a href="#__codelineno-24-102">102</a></span>
<span class="normal"><a href="#__codelineno-24-103">103</a></span>
<span class="normal"><a href="#__codelineno-24-104">104</a></span>
<span class="normal"><a href="#__codelineno-24-105">105</a></span>
<span class="normal"><a href="#__codelineno-24-106">106</a></span>
<span class="normal"><a href="#__codelineno-24-107">107</a></span>
<span class="normal"><a href="#__codelineno-24-108">108</a></span>
<span class="normal"><a href="#__codelineno-24-109">109</a></span>
<span class="normal"><a href="#__codelineno-24-110">110</a></span>
<span class="normal"><a href="#__codelineno-24-111">111</a></span>
<span class="normal"><a href="#__codelineno-24-112">112</a></span>
<span class="normal"><a href="#__codelineno-24-113">113</a></span>
<span class="normal"><a href="#__codelineno-24-114">114</a></span>
<span class="normal"><a href="#__codelineno-24-115">115</a></span>
<span class="normal"><a href="#__codelineno-24-116">116</a></span>
<span class="normal"><a href="#__codelineno-24-117">117</a></span>
<span class="normal"><a href="#__codelineno-24-118">118</a></span>
<span class="normal"><a href="#__codelineno-24-119">119</a></span>
<span class="normal"><a href="#__codelineno-24-120">120</a></span>
<span class="normal"><a href="#__codelineno-24-121">121</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-98"><a id="__codelineno-24-98" name="__codelineno-24-98"></a><span class="w">    </span><span class="c1">// Khởi tạo nút 0</span>
</span><span id="__span-24-99"><a id="__codelineno-24-99" name="__codelineno-24-99"></a><span class="w">    </span><span class="n">parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
</span><span id="__span-24-100"><a id="__codelineno-24-100" name="__codelineno-24-100"></a><span class="w">    </span><span class="n">tree_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-24-101"><a id="__codelineno-24-101" name="__codelineno-24-101"></a>
</span><span id="__span-24-102"><a id="__codelineno-24-102" name="__codelineno-24-102"></a><span class="w">    </span><span class="c1">// nhãn của nút tiếp theo sẽ là 1</span>
</span><span id="__span-24-103"><a id="__codelineno-24-103" name="__codelineno-24-103"></a><span class="w">    </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-24-104"><a id="__codelineno-24-104" name="__codelineno-24-104"></a>
</span><span id="__span-24-105"><a id="__codelineno-24-105" name="__codelineno-24-105"></a><span class="w">    </span><span class="c1">// Đọc số truy vấn</span>
</span><span id="__span-24-106"><a id="__codelineno-24-106" name="__codelineno-24-106"></a><span class="w">    </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">number_of_queries</span><span class="p">;</span>
</span><span id="__span-24-107"><a id="__codelineno-24-107" name="__codelineno-24-107"></a>
</span><span id="__span-24-108"><a id="__codelineno-24-108" name="__codelineno-24-108"></a><span class="w">    </span><span class="c1">// Duyệt từng truy vấn q</span>
</span><span id="__span-24-109"><a id="__codelineno-24-109" name="__codelineno-24-109"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">number_of_queries</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">q</span><span class="p">)</span>
</span><span id="__span-24-110"><a id="__codelineno-24-110" name="__codelineno-24-110"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-24-111"><a id="__codelineno-24-111" name="__codelineno-24-111"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">task</span><span class="p">;</span>
</span><span id="__span-24-112"><a id="__codelineno-24-112" name="__codelineno-24-112"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
</span><span id="__span-24-113"><a id="__codelineno-24-113" name="__codelineno-24-113"></a><span class="w">        </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
</span><span id="__span-24-114"><a id="__codelineno-24-114" name="__codelineno-24-114"></a>
</span><span id="__span-24-115"><a id="__codelineno-24-115" name="__codelineno-24-115"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">task</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">'+'</span><span class="p">)</span>
</span><span id="__span-24-116"><a id="__codelineno-24-116" name="__codelineno-24-116"></a><span class="w">            </span><span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
</span><span id="__span-24-117"><a id="__codelineno-24-117" name="__codelineno-24-117"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">task</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">'-'</span><span class="p">)</span>
</span><span id="__span-24-118"><a id="__codelineno-24-118" name="__codelineno-24-118"></a><span class="w">            </span><span class="n">remove</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
</span><span id="__span-24-119"><a id="__codelineno-24-119" name="__codelineno-24-119"></a><span class="w">        </span><span class="k">else</span>
</span><span id="__span-24-120"><a id="__codelineno-24-120" name="__codelineno-24-120"></a><span class="w">            </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">get_size</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">'\n'</span><span class="p">;</span>
</span><span id="__span-24-121"><a id="__codelineno-24-121" name="__codelineno-24-121"></a><span class="w">    </span><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
<div class="tabbed-block">
<div class="language-py highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-23">23</a></span>
<span class="normal"><a href="#__codelineno-25-24">24</a></span>
<span class="normal"><a href="#__codelineno-25-25">25</a></span>
<span class="normal"><a href="#__codelineno-25-26">26</a></span>
<span class="normal"><a href="#__codelineno-25-27">27</a></span>
<span class="normal"><a href="#__codelineno-25-28">28</a></span>
<span class="normal"><a href="#__codelineno-25-29">29</a></span>
<span class="normal"><a href="#__codelineno-25-30">30</a></span>
<span class="normal"><a href="#__codelineno-25-31">31</a></span>
<span class="normal"><a href="#__codelineno-25-32">32</a></span>
<span class="normal"><a href="#__codelineno-25-33">33</a></span>
<span class="normal"><a href="#__codelineno-25-34">34</a></span>
<span class="normal"><a href="#__codelineno-25-35">35</a></span>
<span class="normal"><a href="#__codelineno-25-36">36</a></span>
<span class="normal"><a href="#__codelineno-25-37">37</a></span>
<span class="normal"><a href="#__codelineno-25-38">38</a></span>
<span class="normal"><a href="#__codelineno-25-39">39</a></span>
<span class="normal"><a href="#__codelineno-25-40">40</a></span>
<span class="normal"><a href="#__codelineno-25-41">41</a></span>
<span class="normal"><a href="#__codelineno-25-42">42</a></span>
<span class="normal"><a href="#__codelineno-25-43">43</a></span>
<span class="normal"><a href="#__codelineno-25-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-23"><a id="__codelineno-25-23" name="__codelineno-25-23"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fo</span><span class="p">:</span>
</span><span id="__span-25-24"><a id="__codelineno-25-24" name="__codelineno-25-24"></a>            <span class="c1"># Khởi tạo nút 0</span>
</span><span id="__span-25-25"><a id="__codelineno-25-25" name="__codelineno-25-25"></a>            <span class="n">parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-25-26"><a id="__codelineno-25-26" name="__codelineno-25-26"></a>            <span class="n">tree_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-25-27"><a id="__codelineno-25-27" name="__codelineno-25-27"></a>
</span><span id="__span-25-28"><a id="__codelineno-25-28" name="__codelineno-25-28"></a>            <span class="c1"># nhãn của nút tiếp theo sẽ là 1</span>
</span><span id="__span-25-29"><a id="__codelineno-25-29" name="__codelineno-25-29"></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-25-30"><a id="__codelineno-25-30" name="__codelineno-25-30"></a>
</span><span id="__span-25-31"><a id="__codelineno-25-31" name="__codelineno-25-31"></a>            <span class="c1"># Đọc số truy vấn</span>
</span><span id="__span-25-32"><a id="__codelineno-25-32" name="__codelineno-25-32"></a>            <span class="n">number_of_queries</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fi</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span> 
</span><span id="__span-25-33"><a id="__codelineno-25-33" name="__codelineno-25-33"></a>
</span><span id="__span-25-34"><a id="__codelineno-25-34" name="__codelineno-25-34"></a>            <span class="c1"># Duyệt từng truy vấn q</span>
</span><span id="__span-25-35"><a id="__codelineno-25-35" name="__codelineno-25-35"></a>            <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_of_queries</span><span class="p">):</span>
</span><span id="__span-25-36"><a id="__codelineno-25-36" name="__codelineno-25-36"></a>                <span class="n">task</span><span class="p">,</span> <span class="n">u</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</span><span id="__span-25-37"><a id="__codelineno-25-37" name="__codelineno-25-37"></a>                <span class="n">u</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-25-38"><a id="__codelineno-25-38" name="__codelineno-25-38"></a>
</span><span id="__span-25-39"><a id="__codelineno-25-39" name="__codelineno-25-39"></a>                <span class="k">if</span> <span class="n">task</span> <span class="o">==</span> <span class="s1">'+'</span><span class="p">:</span>
</span><span id="__span-25-40"><a id="__codelineno-25-40" name="__codelineno-25-40"></a>                    <span class="n">add</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-25-41"><a id="__codelineno-25-41" name="__codelineno-25-41"></a>                <span class="k">elif</span> <span class="n">task</span> <span class="o">==</span> <span class="s1">'-'</span><span class="p">:</span>
</span><span id="__span-25-42"><a id="__codelineno-25-42" name="__codelineno-25-42"></a>                    <span class="n">remove</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
</span><span id="__span-25-43"><a id="__codelineno-25-43" name="__codelineno-25-43"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-25-44"><a id="__codelineno-25-44" name="__codelineno-25-44"></a>                    <span class="n">fo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">get_size</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</span></code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
<h3 id="ma-nguon_2">Mã nguồn<a class="headerlink" href="#ma-nguon_2" title="Permanent link">¶</a></h3>
<p>Code đầy đủ được đặt tại <a href="https://github.com/vtchitruong/hsg/tree/main/hsg12-tinh/2024-2025-tayninh-buoi-1/tree" target="_blank">GitHub</a>.</p>







  
  



  





  

  <h2>Tags</h2>
  <nav class="md-tags">
    
      
      
      
        <a href="../../tags/#tag:cây" class="md-tag">cây</a>
      
    
      
      
      
        <a href="../../tags/#tag:cửa-sổ-trượt" class="md-tag">cửa sổ trượt</a>
      
    
      
      
      
        <a href="../../tags/#tag:hàng-đợi" class="md-tag">hàng đợi</a>
      
    
      
      
      
        <a href="../../tags/#tag:mảng-cộng-dồn" class="md-tag">mảng cộng dồn</a>
      
    
      
      
      
        <a href="../../tags/#tag:quy-hoạch-động" class="md-tag">quy hoạch động</a>
      
    
      
      
      
        <a href="../../tags/#tag:tổng-lớn-nhất-của-mảng-con-có-độ-dài-chẵn" class="md-tag">tổng lớn nhất của mảng con có độ dài chẵn</a>
      
    
      
      
      
        <a href="../../tags/#tag:tổng-tiền-tố" class="md-tag">tổng tiền tố</a>
      
    
  </nav>


                
  <!-- Donation button at the end of content, conditional -->
  
    <div class="donation-button">
      <a href="https://mr-school.xyz/donation/#cach-thuc" class="btn-donate">Bao tôi ly cafe 🧋 nhé!</a>
    </div>
  

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../2024-2025-nghean/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 2024 - 2025 Nghệ An">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                2024 - 2025 Nghệ An
              </div>
            </div>
          </a>
        
        
          
          <a href="../2024-2025-tuyenquang/" class="md-footer__link md-footer__link--next" aria-label="Next: 2024 - 2025 Tuyên Quang">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                2024 - 2025 Tuyên Quang
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a href="https://mr-school.xyz/donation/">Please click here to donate, if possible. Thank you!</a><br>Copyright © 2023 Mr School
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/vtchitruong/vtchitruong.github.io" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/vothachchitruong" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://mr-school.xyz/donation/" target="_blank" rel="noopener" title="Please donate!" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --><path d="M96 64c0-17.7 14.3-32 32-32H448h64c70.7 0 128 57.3 128 128s-57.3 128-128 128H480c0 53-43 96-96 96H192c-53 0-96-43-96-96V64zM480 224h32c35.3 0 64-28.7 64-64s-28.7-64-64-64H480V224zM32 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.prune", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
    

  
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../javascripts/extra.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/feedback.js"></script>
      
        <script src="../../../javascripts/floating_action_button.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.8/dist/browser/index.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/index.js"></script>
      
    

  <!-- Extra JavaScript (can't be set in mkdocs.yml due to content hash) -->
  <!-- <script src="../../../assets/javascripts/custom.js"></script> -->

  
  <!-- <script>
    // Remove the markmap button
    const iframe = document.querySelector('iframe');

    iframe.addEventListener('load', () => {
        const iframeContent = iframe.contentDocument || iframe.contentWindow.document;
        const brandLink = iframeContent.querySelector('.mm-toolbar a.mm-toolbar-brand');
        brandLink.style.display = 'none';
    });
  </script> -->

  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": false, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>